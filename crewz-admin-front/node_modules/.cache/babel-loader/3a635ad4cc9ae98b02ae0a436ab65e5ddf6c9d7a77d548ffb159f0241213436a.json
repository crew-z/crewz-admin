{"ast":null,"code":"import { clamp } from '../utils';\nvar animationIDStorage = new WeakMap();\nexport function scrollTo(scrollbar, x, y, duration, _a) {\n  if (duration === void 0) {\n    duration = 0;\n  }\n  var _b = _a === void 0 ? {} : _a,\n    _c = _b.easing,\n    easing = _c === void 0 ? defaultEasing : _c,\n    callback = _b.callback;\n  var options = scrollbar.options,\n    offset = scrollbar.offset,\n    limit = scrollbar.limit;\n  if (options.renderByPixels) {\n    // ensure resolved with integer\n    x = Math.round(x);\n    y = Math.round(y);\n  }\n  var startX = offset.x;\n  var startY = offset.y;\n  var disX = clamp(x, 0, limit.x) - startX;\n  var disY = clamp(y, 0, limit.y) - startY;\n  var start = Date.now();\n  function scroll() {\n    var elapse = Date.now() - start;\n    var progress = duration ? easing(Math.min(elapse / duration, 1)) : 1;\n    scrollbar.setPosition(startX + disX * progress, startY + disY * progress);\n    if (elapse >= duration) {\n      if (typeof callback === 'function') {\n        callback.call(scrollbar);\n      }\n    } else {\n      var animationID = requestAnimationFrame(scroll);\n      animationIDStorage.set(scrollbar, animationID);\n    }\n  }\n  cancelAnimationFrame(animationIDStorage.get(scrollbar));\n  scroll();\n}\n/**\n * easeOutCubic\n */\nfunction defaultEasing(t) {\n  return Math.pow(t - 1, 3) + 1;\n}","map":{"version":3,"names":["clamp","animationIDStorage","WeakMap","scrollTo","scrollbar","x","y","duration","_a","_b","_c","easing","defaultEasing","callback","options","offset","limit","renderByPixels","Math","round","startX","startY","disX","disY","start","Date","now","scroll","elapse","progress","min","setPosition","call","animationID","requestAnimationFrame","set","cancelAnimationFrame","get","t","pow"],"sources":["../src/scrolling/scroll-to.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,KAAK,QAAQ,UAAU;AAIhC,IAAMC,kBAAkB,GAAG,IAAIC,OAAO,EAAuB;AAE7D,OAAM,SAAUC,QAAQA,CACtBC,SAAsB,EACtBC,CAAS,EACTC,CAAS,EACTC,QAAY,EACZC,EAAqE;EADrE,IAAAD,QAAA;IAAAA,QAAA,IAAY;EAAA;MACZE,EAAA,GAAAD,EAAA,mBAAAA,EAAqE;IAAnEE,EAAA,GAAAD,EAAA,CAAAE,MAAsB;IAAtBA,MAAA,GAAAD,EAAA,cAAAE,aAAA,GAAAF,EAAsB;IAAEG,QAAA,GAAAJ,EAAA,CAAAI,QAAQ;EAGhC,IAAAC,OAAA,GAAAV,SAAA,CAAAU,OAAO;IACPC,MAAA,GAAAX,SAAA,CAAAW,MAAM;IACNC,KAAA,GAAAZ,SAAA,CAAAY,KAAK;EAGP,IAAIF,OAAO,CAACG,cAAc,EAAE;IAC1B;IACAZ,CAAC,GAAGa,IAAI,CAACC,KAAK,CAACd,CAAC,CAAC;IACjBC,CAAC,GAAGY,IAAI,CAACC,KAAK,CAACb,CAAC,CAAC;;EAGnB,IAAMc,MAAM,GAAGL,MAAM,CAACV,CAAC;EACvB,IAAMgB,MAAM,GAAGN,MAAM,CAACT,CAAC;EAEvB,IAAMgB,IAAI,GAAGtB,KAAK,CAACK,CAAC,EAAE,CAAC,EAAEW,KAAK,CAACX,CAAC,CAAC,GAAGe,MAAM;EAC1C,IAAMG,IAAI,GAAGvB,KAAK,CAACM,CAAC,EAAE,CAAC,EAAEU,KAAK,CAACV,CAAC,CAAC,GAAGe,MAAM;EAE1C,IAAMG,KAAK,GAAGC,IAAI,CAACC,GAAG,EAAE;EAExB,SAASC,MAAMA,CAAA;IACb,IAAMC,MAAM,GAAGH,IAAI,CAACC,GAAG,EAAE,GAAGF,KAAK;IACjC,IAAMK,QAAQ,GAAGtB,QAAQ,GAAGI,MAAM,CAACO,IAAI,CAACY,GAAG,CAACF,MAAM,GAAGrB,QAAQ,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;IAEtEH,SAAS,CAAC2B,WAAW,CACnBX,MAAM,GAAGE,IAAI,GAAGO,QAAQ,EACxBR,MAAM,GAAGE,IAAI,GAAGM,QAAQ,CACzB;IAED,IAAID,MAAM,IAAIrB,QAAQ,EAAE;MACtB,IAAI,OAAOM,QAAQ,KAAK,UAAU,EAAE;QAClCA,QAAQ,CAACmB,IAAI,CAAC5B,SAAS,CAAC;;KAE3B,MAAM;MACL,IAAM6B,WAAW,GAAGC,qBAAqB,CAACP,MAAM,CAAC;MACjD1B,kBAAkB,CAACkC,GAAG,CAAC/B,SAAS,EAAE6B,WAAW,CAAC;;EAElD;EAEAG,oBAAoB,CAACnC,kBAAkB,CAACoC,GAAG,CAACjC,SAAS,CAAW,CAAC;EACjEuB,MAAM,EAAE;AACV;AAEA;;;AAGA,SAASf,aAAaA,CAAC0B,CAAS;EAC9B,OAAOpB,IAAA,CAAAqB,GAAA,CAACD,CAAC,GAAG,CAAC,EAAK,CAAC,IAAG,CAAC;AACzB"},"metadata":{},"sourceType":"module","externalDependencies":[]}