{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar eventListenerOptions;\nvar eventMap = new WeakMap();\nfunction getOptions() {\n  if (eventListenerOptions !== undefined) {\n    return eventListenerOptions;\n  }\n  var supportPassiveEvent = false;\n  try {\n    var noop = function () {};\n    var options = Object.defineProperty({}, 'passive', {\n      enumerable: true,\n      get: function () {\n        supportPassiveEvent = true;\n        return true;\n      }\n    });\n    window.addEventListener('testPassive', noop, options);\n    window.removeEventListener('testPassive', noop, options);\n  } catch (e) {}\n  eventListenerOptions = supportPassiveEvent ? {\n    passive: false\n  } : false;\n  return eventListenerOptions;\n}\nexport function eventScope(scrollbar) {\n  var configs = eventMap.get(scrollbar) || [];\n  eventMap.set(scrollbar, configs);\n  return function addEvent(elem, events, fn) {\n    function handler(event) {\n      // ignore default prevented events\n      if (event.defaultPrevented) {\n        return;\n      }\n      fn(event);\n    }\n    events.split(/\\s+/g).forEach(function (eventName) {\n      configs.push({\n        elem: elem,\n        eventName: eventName,\n        handler: handler\n      });\n      elem.addEventListener(eventName, handler, getOptions());\n    });\n  };\n}\nexport function clearEventsOn(scrollbar) {\n  var configs = eventMap.get(scrollbar);\n  if (!configs) {\n    return;\n  }\n  configs.forEach(function (_a) {\n    var elem = _a.elem,\n      eventName = _a.eventName,\n      handler = _a.handler;\n    elem.removeEventListener(eventName, handler, getOptions());\n  });\n  eventMap.delete(scrollbar);\n}","map":{"version":3,"names":["eventListenerOptions","eventMap","WeakMap","getOptions","undefined","supportPassiveEvent","noop","options","Object","defineProperty","enumerable","get","window","addEventListener","removeEventListener","e","passive","eventScope","scrollbar","configs","set","addEvent","elem","events","fn","handler","event","defaultPrevented","split","forEach","eventName","push","clearEventsOn","_a","delete"],"sources":["../src/utils/event-hub.ts"],"sourcesContent":[null],"mappings":";AAYA,IAAIA,oBAAoD;AAExD,IAAMC,QAAQ,GAAG,IAAIC,OAAO,EAA4B;AAExD,SAASC,UAAUA,CAAA;EACjB,IAAIH,oBAAoB,KAAKI,SAAS,EAAE;IACtC,OAAOJ,oBAAoB;;EAG7B,IAAIK,mBAAmB,GAAG,KAAK;EAE/B,IAAI;IACF,IAAMC,IAAI,GAAG,SAAAA,CAAA,GAAO,CAAC;IACrB,IAAMC,OAAO,GAAGC,MAAM,CAACC,cAAc,CAAC,EAAE,EAAE,SAAS,EAAE;MACnDC,UAAU,EAAE,IAAI;MAChBC,GAAG,WAAAA,CAAA;QACDN,mBAAmB,GAAG,IAAI;QAC1B,OAAO,IAAI;MACb;KACD,CAAC;IACFO,MAAM,CAACC,gBAAgB,CAAC,aAAa,EAAEP,IAAI,EAAEC,OAAO,CAAC;IACrDK,MAAM,CAACE,mBAAmB,CAAC,aAAa,EAAER,IAAI,EAAEC,OAAO,CAAC;GACzD,CAAC,OAAOQ,CAAC,EAAE;EAEZf,oBAAoB,GAAGK,mBAAmB,GAAG;IAAEW,OAAO,EAAE;EAAK,CAA0B,GAAG,KAAK;EAE/F,OAAOhB,oBAAoB;AAC7B;AAEA,OAAM,SAAUiB,UAAUA,CAACC,SAAoB;EAC7C,IAAMC,OAAO,GAAGlB,QAAQ,CAACU,GAAG,CAACO,SAAS,CAAC,IAAI,EAAE;EAE7CjB,QAAQ,CAACmB,GAAG,CAACF,SAAS,EAAEC,OAAO,CAAC;EAEhC,OAAO,SAASE,QAAQA,CACtBC,IAAiB,EACjBC,MAAc,EACdC,EAAgB;IAEhB,SAASC,OAAOA,CAACC,KAAU;MACzB;MACA,IAAIA,KAAK,CAACC,gBAAgB,EAAE;QAC1B;;MAGFH,EAAE,CAACE,KAAK,CAAC;IACX;IAEAH,MAAM,CAACK,KAAK,CAAC,MAAM,CAAC,CAACC,OAAO,CAAC,UAACC,SAAS;MACrCX,OAAO,CAACY,IAAI,CAAC;QAAET,IAAI,EAAAA,IAAA;QAAEQ,SAAS,EAAAA,SAAA;QAAEL,OAAO,EAAAA;MAAA,CAAE,CAAC;MAE1CH,IAAI,CAACT,gBAAgB,CAACiB,SAAS,EAAEL,OAAO,EAAEtB,UAAU,EAAE,CAAC;IACzD,CAAC,CAAC;EACJ,CAAC;AACH;AAEA,OAAM,SAAU6B,aAAaA,CAACd,SAAoB;EAChD,IAAMC,OAAO,GAAGlB,QAAQ,CAACU,GAAG,CAACO,SAAS,CAAC;EAEvC,IAAI,CAACC,OAAO,EAAE;IACZ;;EAGFA,OAAO,CAACU,OAAO,CAAC,UAACI,EAA4B;QAA1BX,IAAA,GAAAW,EAAA,CAAAX,IAAI;MAAEQ,SAAA,GAAAG,EAAA,CAAAH,SAAS;MAAEL,OAAA,GAAAQ,EAAA,CAAAR,OAAO;IACzCH,IAAI,CAACR,mBAAmB,CAACgB,SAAS,EAAEL,OAAO,EAAEtB,UAAU,EAAE,CAAC;EAC5D,CAAC,CAAC;EAEFF,QAAQ,CAACiC,MAAM,CAAChB,SAAS,CAAC;AAC5B"},"metadata":{},"sourceType":"module","externalDependencies":[]}