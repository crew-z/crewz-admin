{"ast":null,"code":"!function (e, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = n() : \"function\" == typeof define && define.amd ? define(n) : (e || self)[\"v-click-outside\"] = n();\n}(this, function () {\n  var e = \"__v-click-outside\",\n    n = \"undefined\" != typeof window,\n    t = \"undefined\" != typeof navigator,\n    r = n && (\"ontouchstart\" in window || t && navigator.msMaxTouchPoints > 0) ? [\"touchstart\"] : [\"click\"],\n    i = function (e) {\n      var n = e.event,\n        t = e.handler;\n      (0, e.middleware)(n) && t(n);\n    },\n    a = function (n, t) {\n      var a = function (e) {\n          var n = \"function\" == typeof e;\n          if (!n && \"object\" != typeof e) throw new Error(\"v-click-outside: Binding value must be a function or an object\");\n          return {\n            handler: n ? e : e.handler,\n            middleware: e.middleware || function (e) {\n              return e;\n            },\n            events: e.events || r,\n            isActive: !(!1 === e.isActive),\n            detectIframe: !(!1 === e.detectIframe),\n            capture: Boolean(e.capture)\n          };\n        }(t.value),\n        o = a.handler,\n        d = a.middleware,\n        c = a.detectIframe,\n        u = a.capture;\n      if (a.isActive) {\n        if (n[e] = a.events.map(function (e) {\n          return {\n            event: e,\n            srcTarget: document.documentElement,\n            handler: function (e) {\n              return function (e) {\n                var n = e.el,\n                  t = e.event,\n                  r = e.handler,\n                  a = e.middleware,\n                  o = t.path || t.composedPath && t.composedPath();\n                (o ? o.indexOf(n) < 0 : !n.contains(t.target)) && i({\n                  event: t,\n                  handler: r,\n                  middleware: a\n                });\n              }({\n                el: n,\n                event: e,\n                handler: o,\n                middleware: d\n              });\n            },\n            capture: u\n          };\n        }), c) {\n          var l = {\n            event: \"blur\",\n            srcTarget: window,\n            handler: function (e) {\n              return function (e) {\n                var n = e.el,\n                  t = e.event,\n                  r = e.handler,\n                  a = e.middleware;\n                setTimeout(function () {\n                  var e = document.activeElement;\n                  e && \"IFRAME\" === e.tagName && !n.contains(e) && i({\n                    event: t,\n                    handler: r,\n                    middleware: a\n                  });\n                }, 0);\n              }({\n                el: n,\n                event: e,\n                handler: o,\n                middleware: d\n              });\n            },\n            capture: u\n          };\n          n[e] = [].concat(n[e], [l]);\n        }\n        n[e].forEach(function (t) {\n          var r = t.event,\n            i = t.srcTarget,\n            a = t.handler;\n          return setTimeout(function () {\n            n[e] && i.addEventListener(r, a, u);\n          }, 0);\n        });\n      }\n    },\n    o = function (n) {\n      (n[e] || []).forEach(function (e) {\n        return e.srcTarget.removeEventListener(e.event, e.handler, e.capture);\n      }), delete n[e];\n    },\n    d = n ? {\n      beforeMount: a,\n      updated: function (e, n) {\n        var t = n.value,\n          r = n.oldValue;\n        JSON.stringify(t) !== JSON.stringify(r) && (o(e), a(e, {\n          value: t\n        }));\n      },\n      unmounted: o\n    } : {};\n  return {\n    install: function (e) {\n      e.directive(\"click-outside\", d);\n    },\n    directive: d\n  };\n});","map":{"version":3,"names":["window","t","navigator","r","n","msMaxTouchPoints","i","e","event","handler","middleware","a","Error","events","isActive","detectIframe","capture","Boolean","value","o","d","c","u","map","srcTarget","document","documentElement","el","path","composedPath","indexOf","contains","target","l","setTimeout","activeElement","tagName","concat","forEach","addEventListener","removeEventListener","beforeMount","updated","oldValue","JSON","stringify","unmounted","install","directive"],"sources":["../src/v-click-outside.js","../src/index.js"],"sourcesContent":["/**\n * Modified for Vue 3 from https://github.com/ndelvalle/v-click-outside\n * Cf. https://github.com/ndelvalle/v-click-outside/issues/238\n */\nconst HANDLERS_PROPERTY = \"__v-click-outside\";\nconst HAS_WINDOWS = typeof window !== \"undefined\";\nconst HAS_NAVIGATOR = typeof navigator !== \"undefined\";\nconst IS_TOUCH =\n  HAS_WINDOWS &&\n  (\"ontouchstart\" in window ||\n    (HAS_NAVIGATOR && navigator.msMaxTouchPoints > 0));\nconst EVENTS = IS_TOUCH ? [\"touchstart\"] : [\"click\"];\nconst processDirectiveArguments = (bindingValue) => {\n  const isFunction = typeof bindingValue === \"function\";\n  if (!isFunction && typeof bindingValue !== \"object\") {\n    throw new Error(\n      \"v-click-outside: Binding value must be a function or an object\"\n    );\n  }\n  return {\n    handler: isFunction ? bindingValue : bindingValue.handler,\n    middleware: bindingValue.middleware || ((item) => item),\n    events: bindingValue.events || EVENTS,\n    isActive: !(bindingValue.isActive === false),\n    detectIframe: !(bindingValue.detectIframe === false),\n    capture: Boolean(bindingValue.capture),\n  };\n};\nconst execHandler = ({ event, handler, middleware }) => {\n  if (middleware(event)) {\n    handler(event);\n  }\n};\nconst onFauxIframeClick = ({ el, event, handler, middleware }) => {\n  // Note: on firefox clicking on iframe triggers blur, but only on\n  //       next event loop it becomes document.activeElement\n  // https://stackoverflow.com/q/2381336#comment61192398_23231136\n  setTimeout(() => {\n    const { activeElement } = document;\n    if (\n      activeElement &&\n      activeElement.tagName === \"IFRAME\" &&\n      !el.contains(activeElement)\n    ) {\n      execHandler({ event, handler, middleware });\n    }\n  }, 0);\n};\nconst onEvent = ({ el, event, handler, middleware }) => {\n  // Note: composedPath is not supported on IE and Edge, more information here:\n  //       https://developer.mozilla.org/en-US/docs/Web/API/Event/composedPath\n  //       In the meanwhile, we are using el.contains for those browsers, not\n  //       the ideal solution, but using IE or EDGE is not ideal either.\n  const path = event.path || (event.composedPath && event.composedPath());\n  const isClickOutside = path\n    ? path.indexOf(el) < 0\n    : !el.contains(event.target);\n  if (!isClickOutside) {\n    return;\n  }\n  execHandler({ event, handler, middleware });\n};\nconst beforeMount = (el, { value }) => {\n  const {\n    events,\n    handler,\n    middleware,\n    isActive,\n    detectIframe,\n    capture,\n  } = processDirectiveArguments(value);\n  if (!isActive) {\n    return;\n  }\n  el[HANDLERS_PROPERTY] = events.map((eventName) => ({\n    event: eventName,\n    srcTarget: document.documentElement,\n    handler: (event) => onEvent({ el, event, handler, middleware }),\n    capture,\n  }));\n  if (detectIframe) {\n    const detectIframeEvent = {\n      event: \"blur\",\n      srcTarget: window,\n      handler: (event) => onFauxIframeClick({ el, event, handler, middleware }),\n      capture,\n    };\n    el[HANDLERS_PROPERTY] = [...el[HANDLERS_PROPERTY], detectIframeEvent];\n  }\n  el[HANDLERS_PROPERTY].forEach(({ event, srcTarget, handler: thisHandler }) =>\n    setTimeout(() => {\n      // Note: More info about this implementation can be found here:\n      //       https://github.com/ndelvalle/v-click-outside/issues/137\n      if (!el[HANDLERS_PROPERTY]) {\n        return;\n      }\n      srcTarget.addEventListener(event, thisHandler, capture);\n    }, 0)\n  );\n};\nconst unmounted = (el) => {\n  const handlers = el[HANDLERS_PROPERTY] || [];\n  handlers.forEach(({ event, srcTarget, handler, capture }) =>\n    srcTarget.removeEventListener(event, handler, capture)\n  );\n  delete el[HANDLERS_PROPERTY];\n};\nconst updated = (el, { value, oldValue }) => {\n  if (JSON.stringify(value) === JSON.stringify(oldValue)) {\n    return;\n  }\n  unmounted(el);\n  beforeMount(el, { value });\n};\nconst directive = {\n  beforeMount,\n  updated,\n  unmounted,\n};\nexport default HAS_WINDOWS ? directive : {};\n","import directive from './v-click-outside'\n\nconst plugin = {\n  install(Vue) {\n    Vue.directive('click-outside', directive)\n  },\n  directive,\n}\n\nexport default plugin\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}